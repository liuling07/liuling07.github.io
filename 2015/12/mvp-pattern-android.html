<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>MVP模式在Android项目中的使用 | 残剑博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="以前在写项目的时候，没有过多考虑架构模式的问题，因为之前一直做J2EE开发，而J2EE都是采用MVC模式进行开发的，所以在搭建公司项目的时候，也是使用类似MVC的架构（严格来讲，之前的项目还算不上MVC模式，只是简单将网络请求与界面分离，然后通过Handle通知更新界面）。这种写法，在后面随着项目越来越大，Activty或者Fragment中代码也会越来越多，导致项目的维护变的越来越复杂。所以需要">
<meta property="og:type" content="article">
<meta property="og:title" content="MVP模式在Android项目中的使用">
<meta property="og:url" content="http://liuling123.com/2015/12/mvp-pattern-android.html">
<meta property="og:site_name" content="残剑博客">
<meta property="og:description" content="以前在写项目的时候，没有过多考虑架构模式的问题，因为之前一直做J2EE开发，而J2EE都是采用MVC模式进行开发的，所以在搭建公司项目的时候，也是使用类似MVC的架构（严格来讲，之前的项目还算不上MVC模式，只是简单将网络请求与界面分离，然后通过Handle通知更新界面）。这种写法，在后面随着项目越来越大，Activty或者Fragment中代码也会越来越多，导致项目的维护变的越来越复杂。所以需要">
<meta property="og:image" content="http://7xnqm4.com1.z0.glb.clouddn.com/Android中MVP的使用%C2%8F%C2%9B.png">
<meta property="og:updated_time" content="2016-01-03T07:35:27.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MVP模式在Android项目中的使用">
<meta name="twitter:description" content="以前在写项目的时候，没有过多考虑架构模式的问题，因为之前一直做J2EE开发，而J2EE都是采用MVC模式进行开发的，所以在搭建公司项目的时候，也是使用类似MVC的架构（严格来讲，之前的项目还算不上MVC模式，只是简单将网络请求与界面分离，然后通过Handle通知更新界面）。这种写法，在后面随着项目越来越大，Activty或者Fragment中代码也会越来越多，导致项目的维护变的越来越复杂。所以需要">
  
  
    <link rel="icon" href="favicon.png">
  
  
 <link href='//fonts.lug.ustc.edu.cn/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
 <link href="//fonts.lug.ustc.edu.cn/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">


  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  

  

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo" style="background-image: url(/css/images/logo.png)"></i><span class="site-title">残剑博客</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="/css/images/protrait.jpg"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
      
      <div id="search-form-wrap">
        
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://liuling123.com"></form>
        
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
        
          <td><a class="main-nav-link" href="/.">Home</a></td>
        
          <td><a class="main-nav-link" href="/archives">Archives</a></td>
        
          <td><a class="main-nav-link" href="/categories">Categories</a></td>
        
          <td><a class="main-nav-link" href="/tags">Tags</a></td>
        
          <td><a class="main-nav-link" href="/about">About</a></td>
        
        <td>
          
            <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="搜索"><input type="hidden" name="sitesearch" value="http://liuling123.com"></form>
          
        </td>
      </tr>
    </table>
  </div>
</header>

    <div class="outer">
      
        <aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      <img id="avatar" src="/css/images/protrait.jpg">
      <h2 id="name">Lauren</h2>
      <h3 id="title">Android Developer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>Shenzhen, China</span>
      <a id="follow" href="https://github.com/liuling07">关注我</a>
    </div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        135
        <span>文章</span>
      </div>
      <div class="article-info-block">
        32
        <span>标签</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
          
          <td><a href="https://github.com/liuling07" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
          
          <td><a href="http://weibo.com/LaurenLiuling/" target="_blank" title="weibo"><i class="fa fa-weibo"></i></a></td>
          
          <td><a href="https://plus.google.com/u/0/107098505138563589748/" target="_blank" title="google-plus"><i class="fa fa-google-plus"></i></a></td>
          
          <td><a href="http://stackoverflow.com/users/5629327/lauren-liuling" target="_blank" title="stack-overflow"><i class="fa fa-stack-overflow"></i></a></td>
          
          <td><a href="https://twitter.com/lauren_liuLing/" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
          
          <td><a href="https://www.facebook.com/lauren.liuling/" target="_blank" title="facebook"><i class="fa fa-facebook"></i></a></td>
          
          <td><a href="/atom.xml" target="_blank" title="rss"><i class="fa fa-rss"></i></a></td>
          
        </tr>
      </table>
    </div>
    
    
  </div>
</aside>

      
      <section id="main"><article id="post-mvp-pattern-android" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      MVP模式在Android项目中的使用
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/12/mvp-pattern-android.html">
      <time datetime="2015-12-23T14:16:04.000Z" itemprop="datePublished">2015-12-23</time>
    </a>
  </div>


          
  <div class="article-category">
  	<i class="fa fa-folder"></i>
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p> 以前在写项目的时候，没有过多考虑架构模式的问题，因为之前一直做J2EE开发，而J2EE都是采用MVC模式进行开发的，所以在搭建公司项目的时候，也是使用类似MVC的架构（严格来讲，之前的项目还算不上MVC模式，只是简单将网络请求与界面分离，然后通过Handle通知更新界面）。这种写法，在后面随着项目越来越大，Activty或者Fragment中代码也会越来越多，导致项目的维护变的越来越复杂。所以需要另外一种架构模式来解决这个问题，在网上浏览了一圈，发现适合Android开发的架构模式非MVP莫属了。</p>
<p>网上一搜，讲MVP模式的文章比比皆是。但是大多都是讲理论，稍微好点的会附带一个简单的登录的demo。一个简单的demo很难让初次接触MVP模式的人掌握它的使用。所以我决定写一个稍微复杂一点的新闻客户端SimpleNews（当然只是相对登录的demo）来展示MVP在具体项目中的使用。另外SimpleNews还使用了Material Design，也是学习Material Design的一个好Demo。<br><a id="more"></a><br>好了，切入正文吧。先讲一下MVP的概念。</p>
<h3 id="u4EC0_u4E48_u662FMVP"><a href="#u4EC0_u4E48_u662FMVP" class="headerlink" title="什么是MVP"></a>什么是MVP</h3><p>MVP是模型（Model）、视图（View）、主持人（Presenter）的缩写，分别代表项目中3个不同的模块。</p>
<ul>
<li><p>模型（Model）：负责处理数据的加载或者存储，比如从网络或本地数据库获取数据等；</p>
</li>
<li><p>视图（View）：负责界面数据的展示，与用户进行交互；</p>
</li>
<li><p>主持人（Presenter）：相当于协调者，是模型与视图之间的桥梁，将模型与视图分离开来。</p>
</li>
</ul>
<p>如下图所示，View与Model并不直接交互，而是使用Presenter作为View与Model之间的桥梁。其中Presenter中同时持有Viwe层以及Model层的Interface的引用，而View层持有Presenter层Interface的引用。当View层某个界面需要展示某些数据的时候，首先会调用Presenter层的某个接口，然后Presenter层会调用Model层请求数据，当Model层数据加载成功之后会调用Presenter层的回调方法通知Presenter层数据加载完毕，最后Presenter层再调用View层的接口将加载后的数据展示给用户。这就是MVP模式的整个核心过程。<br><img src="http://7xnqm4.com1.z0.glb.clouddn.com/Android中MVP的使用%C2%8F%C2%9B.png" alt="MVP模式"></p>
<p>这样分层的好处就是大大减少了Model与View层之间的耦合度。一方面可以使得View层和Model层单独开发与测试，互不依赖。另一方面Model层可以封装复用，可以极大的减少代码量。当然，MVP还有其他的一些优点，这里不再赘述。下面看下MVP模式在具体项目中的使用。</p>
<h3 id="MVP_u6A21_u5F0F_u5728_u9879_u76EE_u4E2D_u7684_u4F7F_u7528"><a href="#MVP_u6A21_u5F0F_u5728_u9879_u76EE_u4E2D_u7684_u4F7F_u7528" class="headerlink" title="MVP模式在项目中的使用"></a>MVP模式在项目中的使用</h3><h4 id="View_u5C42"><a href="#View_u5C42" class="headerlink" title="View层"></a>View层</h4><p>View层新闻展示模块的是组件是Fragment，里面有一个RecyclerView、SwipeRefreshLayout。布局代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&#62;&#10;&#60;android.support.v4.widget.SwipeRefreshLayout&#10;    xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;&#10;    xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34;&#10;    android:id=&#34;@+id/swipe_refresh_widget&#34;&#10;    android:layout_width=&#34;match_parent&#34;&#10;    android:layout_height=&#34;match_parent&#34;&#62;&#10;    &#60;android.support.v7.widget.RecyclerView&#10;        android:id=&#34;@+id/recycle_view&#34;&#10;        android:layout_width=&#34;match_parent&#34;&#10;        android:layout_height=&#34;wrap_content&#34;&#10;        android:scrollbars=&#34;vertical&#34;&#10;        app:layout_behavior=&#34;@string/appbar_scrolling_view_behavior&#34;&#10;        android:paddingTop=&#34;@dimen/card_margin&#34;&#62;&#10;    &#60;/android.support.v7.widget.RecyclerView&#62;&#10;&#60;/android.support.v4.widget.SwipeRefreshLayout&#62;</span><br></pre></td></tr></table></figure>
<p>新闻列表模块主要是展示从网络获取的新闻列表信息，View层的接口大概需要如下方法：</p>
<ol>
<li>加载数据的过程中需要提示“正在加载”的反馈信息给用户</li>
<li>加载成功后，将加载得到的数据填充到RecyclerView展示给用户</li>
<li>加载成功后，需要将“正在加载”反馈信息取消掉</li>
<li>若加载数据失败，如无网络连接，则需要给用户提示信息</li>
</ol>
<p>根据上面描述，我们将View层的接口定义如下，分别对应上面四个方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public interface NewsView &#123;&#10;    void showProgress();&#10;    void addNews(List&#60;NewsBean&#62; newsList);&#10;    void hideProgress();&#10;    void showLoadFailMsg();&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>在新闻列表Fragment中实现上述接口：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">package com.lauren.simplenews.news.widget;&#10;import android.content.Intent;&#10;import android.os.Bundle;&#10;import android.support.annotation.Nullable;&#10;import android.support.design.widget.Snackbar;&#10;import android.support.v4.app.ActivityCompat;&#10;import android.support.v4.app.ActivityOptionsCompat;&#10;import android.support.v4.app.Fragment;&#10;import android.support.v4.widget.SwipeRefreshLayout;&#10;import android.support.v7.widget.DefaultItemAnimator;&#10;import android.support.v7.widget.LinearLayoutManager;&#10;import android.support.v7.widget.RecyclerView;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import com.lauren.simplenews.R;&#10;import com.lauren.simplenews.beans.NewsBean;&#10;import com.lauren.simplenews.commons.Urls;&#10;import com.lauren.simplenews.news.NewsAdapter;&#10;import com.lauren.simplenews.news.presenter.NewsPresenter;&#10;import com.lauren.simplenews.news.presenter.NewsPresenterImpl;&#10;import com.lauren.simplenews.news.view.NewsView;&#10;import com.lauren.simplenews.utils.LogUtils;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;/**&#10; * Description : &#26032;&#38395;Fragment&#10; * Author : lauren&#10; * Email  : lauren.liuling@gmail.com&#10; * Blog   : http://www.liuling123.com&#10; * Date   : 15/12/13&#10; */&#10;public class NewsListFragment extends Fragment implements NewsView, SwipeRefreshLayout.OnRefreshListener &#123;&#10;    private static final String TAG = &#34;NewsListFragment&#34;;&#10;    private SwipeRefreshLayout mSwipeRefreshWidget;&#10;    private RecyclerView mRecyclerView;&#10;    private LinearLayoutManager mLayoutManager;&#10;    private NewsAdapter mAdapter;&#10;    private List&#60;NewsBean&#62; mData;&#10;    private NewsPresenter mNewsPresenter;&#10;    private int mType = NewsFragment.NEWS_TYPE_TOP;&#10;    private int pageIndex = 0;&#10;    public static NewsListFragment newInstance(int type) &#123;&#10;        Bundle args = new Bundle();&#10;        NewsListFragment fragment = new NewsListFragment();&#10;        args.putInt(&#34;type&#34;, type);&#10;        fragment.setArguments(args);&#10;        return fragment;&#10;    &#125;&#10;    @Override&#10;    public void onCreate(@Nullable Bundle savedInstanceState) &#123;&#10;        super.onCreate(savedInstanceState);&#10;        mNewsPresenter = new NewsPresenterImpl(this);&#10;        mType = getArguments().getInt(&#34;type&#34;);&#10;    &#125;&#10;    @Nullable&#10;    @Override&#10;    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) &#123;&#10;        View view = inflater.inflate(R.layout.fragment_newslist, null);&#10;        mSwipeRefreshWidget = (SwipeRefreshLayout) view.findViewById(R.id.swipe_refresh_widget);&#10;        mSwipeRefreshWidget.setColorSchemeResources(R.color.primary,&#10;                R.color.primary_dark, R.color.primary_light,&#10;                R.color.accent);&#10;        mSwipeRefreshWidget.setOnRefreshListener(this);&#10;        mRecyclerView = (RecyclerView)view.findViewById(R.id.recycle_view);&#10;        mRecyclerView.setHasFixedSize(true);&#10;        mLayoutManager = new LinearLayoutManager(getActivity());&#10;        mRecyclerView.setLayoutManager(mLayoutManager);&#10;        mRecyclerView.setItemAnimator(new DefaultItemAnimator());&#10;        mAdapter = new NewsAdapter(getActivity().getApplicationContext());&#10;        mAdapter.setOnItemClickListener(mOnItemClickListener);&#10;        mRecyclerView.setAdapter(mAdapter);&#10;        mRecyclerView.setOnScrollListener(mOnScrollListener);&#10;        onRefresh();&#10;        return view;&#10;    &#125;&#10;    private RecyclerView.OnScrollListener mOnScrollListener = new RecyclerView.OnScrollListener() &#123;&#10;        private int lastVisibleItem;&#10;        @Override&#10;        public void onScrolled(RecyclerView recyclerView, int dx, int dy) &#123;&#10;            super.onScrolled(recyclerView, dx, dy);&#10;            lastVisibleItem = mLayoutManager.findLastVisibleItemPosition();&#10;        &#125;&#10;        @Override&#10;        public void onScrollStateChanged(RecyclerView recyclerView, int newState) &#123;&#10;            super.onScrollStateChanged(recyclerView, newState);&#10;            if (newState == RecyclerView.SCROLL_STATE_IDLE&#10;                    &#38;&#38; lastVisibleItem + 1 == mAdapter.getItemCount()&#10;                    &#38;&#38; mAdapter.isShowFooter()) &#123;&#10;                //&#21152;&#36733;&#26356;&#22810;&#10;                LogUtils.d(TAG, &#34;loading more data&#34;);&#10;                mNewsPresenter.loadNews(mType, pageIndex + Urls.PAZE_SIZE);&#10;            &#125;&#10;        &#125;&#10;    &#125;;&#10;    private NewsAdapter.OnItemClickListener mOnItemClickListener = new NewsAdapter.OnItemClickListener() &#123;&#10;        @Override&#10;        public void onItemClick(View view, int position) &#123;&#10;            NewsBean news = mAdapter.getItem(position);&#10;            Intent intent = new Intent(getActivity(), NewsDetailActivity.class);&#10;            intent.putExtra(&#34;news&#34;, news);&#10;            View transitionView = view.findViewById(R.id.ivNews);&#10;            ActivityOptionsCompat options =&#10;                    ActivityOptionsCompat.makeSceneTransitionAnimation(getActivity(),&#10;                            transitionView, getString(R.string.transition_news_img));&#10;            ActivityCompat.startActivity(getActivity(), intent, options.toBundle());&#10;        &#125;&#10;    &#125;;&#10;    @Override&#10;    public void showProgress() &#123;&#10;        mSwipeRefreshWidget.setRefreshing(true);&#10;    &#125;&#10;    @Override&#10;    public void addNews(List&#60;NewsBean&#62; newsList) &#123;&#10;        mAdapter.isShowFooter(true);&#10;        if(mData == null) &#123;&#10;            mData = new ArrayList&#60;NewsBean&#62;();&#10;        &#125;&#10;        mData.addAll(newsList);&#10;        if(pageIndex == 0) &#123;&#10;            mAdapter.setmDate(mData);&#10;        &#125; else &#123;&#10;            //&#22914;&#26524;&#27809;&#26377;&#26356;&#22810;&#25968;&#25454;&#20102;,&#21017;&#38544;&#34255;footer&#24067;&#23616;&#10;            if(newsList == null || newsList.size() == 0) &#123;&#10;                mAdapter.isShowFooter(false);&#10;            &#125;&#10;            mAdapter.notifyDataSetChanged();&#10;        &#125;&#10;        pageIndex += Urls.PAZE_SIZE;&#10;    &#125;&#10;    @Override&#10;    public void hideProgress() &#123;&#10;        mSwipeRefreshWidget.setRefreshing(false);&#10;    &#125;&#10;    @Override&#10;    public void showLoadFailMsg() &#123;&#10;        if(pageIndex == 0) &#123;&#10;            mAdapter.isShowFooter(false);&#10;            mAdapter.notifyDataSetChanged();&#10;        &#125;&#10;        Snackbar.make(getActivity().findViewById(R.id.drawer_layout), getString(R.string.load_fail), Snackbar.LENGTH_SHORT).show();&#10;    &#125;&#10;    @Override&#10;    public void onRefresh() &#123;&#10;        pageIndex = 0;&#10;        if(mData != null) &#123;&#10;            mData.clear();&#10;        &#125;&#10;        mNewsPresenter.loadNews(mType, pageIndex);&#10;    &#125;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Model_u5C42"><a href="#Model_u5C42" class="headerlink" title="Model层"></a>Model层</h4><p>新闻模块的model主要负责从服务器获取新闻列表信息，接口代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public interface NewsModel &#123;&#10;    void loadNews(String url, int type, NewsModelImpl.OnLoadNewsListListener listener);&#10;    ......&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>实现如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">package com.lauren.simplenews.news.model;&#10;import com.lauren.simplenews.beans.NewsBean;&#10;import com.lauren.simplenews.beans.NewsDetailBean;&#10;import com.lauren.simplenews.commons.Urls;&#10;import com.lauren.simplenews.news.NewsJsonUtils;&#10;import com.lauren.simplenews.news.widget.NewsFragment;&#10;import com.lauren.simplenews.utils.OkHttpUtils;&#10;import java.util.List;&#10;/**&#10; * Description : &#26032;&#38395;&#19994;&#21153;&#22788;&#29702;&#31867;&#10; * Author : lauren&#10; * Email  : lauren.liuling@gmail.com&#10; * Blog   : http://www.liuling123.com&#10; * Date   : 15/12/19&#10; */&#10;public class NewsModelImpl implements NewsModel &#123;&#10;    /**&#10;     * &#21152;&#36733;&#26032;&#38395;&#21015;&#34920;&#10;     * @param url&#10;     * @param listener&#10;     */&#10;    @Override&#10;    public void loadNews(String url, final int type, final OnLoadNewsListListener listener) &#123;&#10;        OkHttpUtils.ResultCallback&#60;String&#62; loadNewsCallback = new OkHttpUtils.ResultCallback&#60;String&#62;() &#123;&#10;            @Override&#10;            public void onSuccess(String response) &#123;&#10;                List&#60;NewsBean&#62; newsBeanList = NewsJsonUtils.readJsonNewsBeans(response, getID(type));&#10;                listener.onSuccess(newsBeanList);&#10;            &#125;&#10;            @Override&#10;            public void onFailure(Exception e) &#123;&#10;                listener.onFailure(&#34;load news list failure.&#34;, e);&#10;            &#125;&#10;        &#125;;&#10;        OkHttpUtils.get(url, loadNewsCallback);&#10;    &#125;&#10;    ......&#10;    /**&#10;     * &#33719;&#21462;ID&#10;     * @param type&#10;     * @return&#10;     */&#10;    private String getID(int type) &#123;&#10;        String id;&#10;        switch (type) &#123;&#10;            case NewsFragment.NEWS_TYPE_TOP:&#10;                id = Urls.TOP_ID;&#10;                break;&#10;            case NewsFragment.NEWS_TYPE_NBA:&#10;                id = Urls.NBA_ID;&#10;                break;&#10;            case NewsFragment.NEWS_TYPE_CARS:&#10;                id = Urls.CAR_ID;&#10;                break;&#10;            case NewsFragment.NEWS_TYPE_JOKES:&#10;                id = Urls.JOKE_ID;&#10;                break;&#10;            default:&#10;                id = Urls.TOP_ID;&#10;                break;&#10;        &#125;&#10;        return id;&#10;    &#125;&#10;    private String getDetailUrl(String docId) &#123;&#10;        StringBuffer sb = new StringBuffer(Urls.NEW_DETAIL);&#10;        sb.append(docId).append(Urls.END_DETAIL_URL);&#10;        return sb.toString();&#10;    &#125;&#10;    public interface OnLoadNewsListListener &#123;&#10;        void onSuccess(List&#60;NewsBean&#62; list);&#10;        void onFailure(String msg, Exception e);&#10;    &#125;&#10;    ......&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>网络请求使用开源项目OkHttp，OkHttpUtils是对其的封装，具体代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">package com.lauren.simplenews.utils;&#10;import android.os.Handler;&#10;import android.os.Looper;&#10;import com.google.gson.internal.$Gson$Types;&#10;import com.squareup.okhttp.Callback;&#10;import com.squareup.okhttp.FormEncodingBuilder;&#10;import com.squareup.okhttp.OkHttpClient;&#10;import com.squareup.okhttp.Request;&#10;import com.squareup.okhttp.RequestBody;&#10;import com.squareup.okhttp.Response;&#10;import java.io.IOException;&#10;import java.lang.reflect.ParameterizedType;&#10;import java.lang.reflect.Type;&#10;import java.net.CookieManager;&#10;import java.net.CookiePolicy;&#10;import java.util.List;&#10;import java.util.concurrent.TimeUnit;&#10;/**&#10; * Description : OkHttp&#32593;&#32476;&#36830;&#25509;&#23553;&#35013;&#24037;&#20855;&#31867;&#10; * Author : lauren&#10; * Email  : lauren.liuling@gmail.com&#10; * Blog   : http://www.liuling123.com&#10; * Date   : 15/12/17&#10; */&#10;public class OkHttpUtils &#123;&#10;    private static final String TAG = &#34;OkHttpUtils&#34;;&#10;    private static OkHttpUtils mInstance;&#10;    private OkHttpClient mOkHttpClient;&#10;    private Handler mDelivery;&#10;    private OkHttpUtils() &#123;&#10;        mOkHttpClient = new OkHttpClient();&#10;        mOkHttpClient.setConnectTimeout(10, TimeUnit.SECONDS);&#10;        mOkHttpClient.setWriteTimeout(10, TimeUnit.SECONDS);&#10;        mOkHttpClient.setReadTimeout(30, TimeUnit.SECONDS);&#10;        //cookie enabled&#10;        mOkHttpClient.setCookieHandler(new CookieManager(null, CookiePolicy.ACCEPT_ORIGINAL_SERVER));&#10;        mDelivery = new Handler(Looper.getMainLooper());&#10;    &#125;&#10;    private synchronized static OkHttpUtils getmInstance() &#123;&#10;        if (mInstance == null) &#123;&#10;            mInstance = new OkHttpUtils();&#10;        &#125;&#10;        return mInstance;&#10;    &#125;&#10;    private void getRequest(String url, final ResultCallback callback) &#123;&#10;        final Request request = new Request.Builder().url(url).build();&#10;        deliveryResult(callback, request);&#10;    &#125;&#10;    private void postRequest(String url, final ResultCallback callback, List&#60;Param&#62; params) &#123;&#10;        Request request = buildPostRequest(url, params);&#10;        deliveryResult(callback, request);&#10;    &#125;&#10;    private void deliveryResult(final ResultCallback callback, Request request) &#123;&#10;        mOkHttpClient.newCall(request).enqueue(new Callback() &#123;&#10;            @Override&#10;            public void onFailure(Request request, final IOException e) &#123;&#10;                sendFailCallback(callback, e);&#10;            &#125;&#10;            @Override&#10;            public void onResponse(Response response) throws IOException &#123;&#10;                try &#123;&#10;                    String str = response.body().string();&#10;                    if (callback.mType == String.class) &#123;&#10;                        sendSuccessCallBack(callback, str);&#10;                    &#125; else &#123;&#10;                        Object object = JsonUtils.deserialize(str, callback.mType);&#10;                        sendSuccessCallBack(callback, object);&#10;                    &#125;&#10;                &#125; catch (final Exception e) &#123;&#10;                    LogUtils.e(TAG, &#34;convert json failure&#34;, e);&#10;                    sendFailCallback(callback, e);&#10;                &#125;&#10;            &#125;&#10;        &#125;);&#10;    &#125;&#10;    private void sendFailCallback(final ResultCallback callback, final Exception e) &#123;&#10;        mDelivery.post(new Runnable() &#123;&#10;            @Override&#10;            public void run() &#123;&#10;                if (callback != null) &#123;&#10;                    callback.onFailure(e);&#10;                &#125;&#10;            &#125;&#10;        &#125;);&#10;    &#125;&#10;    private void sendSuccessCallBack(final ResultCallback callback, final Object obj) &#123;&#10;        mDelivery.post(new Runnable() &#123;&#10;            @Override&#10;            public void run() &#123;&#10;                if (callback != null) &#123;&#10;                    callback.onSuccess(obj);&#10;                &#125;&#10;            &#125;&#10;        &#125;);&#10;    &#125;&#10;    private Request buildPostRequest(String url, List&#60;Param&#62; params) &#123;&#10;        FormEncodingBuilder builder = new FormEncodingBuilder();&#10;        for (Param param : params) &#123;&#10;            builder.add(param.key, param.value);&#10;        &#125;&#10;        RequestBody requestBody = builder.build();&#10;        return new Request.Builder().url(url).post(requestBody).build();&#10;    &#125;&#10;    /**********************&#23545;&#22806;&#25509;&#21475;************************/&#10;    /**&#10;     * get&#35831;&#27714;&#10;     * @param url  &#35831;&#27714;url&#10;     * @param callback  &#35831;&#27714;&#22238;&#35843;&#10;     */&#10;    public static void get(String url, ResultCallback callback) &#123;&#10;        getmInstance().getRequest(url, callback);&#10;    &#125;&#10;    /**&#10;     * post&#35831;&#27714;&#10;     * @param url       &#35831;&#27714;url&#10;     * @param callback  &#35831;&#27714;&#22238;&#35843;&#10;     * @param params    &#35831;&#27714;&#21442;&#25968;&#10;     */&#10;    public static void post(String url, final ResultCallback callback, List&#60;Param&#62; params) &#123;&#10;        getmInstance().postRequest(url, callback, params);&#10;    &#125;&#10;    /**&#10;     * http&#35831;&#27714;&#22238;&#35843;&#31867;,&#22238;&#35843;&#26041;&#27861;&#22312;UI&#32447;&#31243;&#20013;&#25191;&#34892;&#10;     * @param &#60;T&#62;&#10;     */&#10;    public static abstract class ResultCallback&#60;T&#62; &#123;&#10;        Type mType;&#10;        public ResultCallback()&#123;&#10;            mType = getSuperclassTypeParameter(getClass());&#10;        &#125;&#10;        static Type getSuperclassTypeParameter(Class&#60;?&#62; subclass) &#123;&#10;            Type superclass = subclass.getGenericSuperclass();&#10;            if (superclass instanceof Class) &#123;&#10;                throw new RuntimeException(&#34;Missing type parameter.&#34;);&#10;            &#125;&#10;            ParameterizedType parameterized = (ParameterizedType) superclass;&#10;            return $Gson$Types.canonicalize(parameterized.getActualTypeArguments()[0]);&#10;        &#125;&#10;        /**&#10;         * &#35831;&#27714;&#25104;&#21151;&#22238;&#35843;&#10;         * @param response&#10;         */&#10;        public abstract void onSuccess(T response);&#10;        /**&#10;         * &#35831;&#27714;&#22833;&#36133;&#22238;&#35843;&#10;         * @param e&#10;         */&#10;        public abstract void onFailure(Exception e);&#10;    &#125;&#10;    /**&#10;     * post&#35831;&#27714;&#21442;&#25968;&#31867;&#10;     */&#10;    public static class Param &#123;&#10;        String key;&#10;        String value;&#10;        public Param() &#123;&#10;        &#125;&#10;        public Param(String key, String value) &#123;&#10;            this.key = key;&#10;            this.value = value;&#10;        &#125;&#10;    &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>将网络请求进行封装可以减少很多的代码量，并且后期如果我不想用okhttp了，想换成其它的库，修改起来也方便。</p>
<h4 id="Presenter_u5C42"><a href="#Presenter_u5C42" class="headerlink" title="Presenter层"></a>Presenter层</h4><p>View层需要调用Presenter层加载新闻信息，所以Presenter需要提供加载新闻信息的接口：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public interface NewsPresenter &#123;&#10;    void loadNews(int type, int page);&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>NewsPresenterImpl的构造函数中需要传入View层的接口对象NewView，并且需要创建一个NewsModel对象。Presenter的具体实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">package com.lauren.simplenews.news.presenter;&#10;import com.lauren.simplenews.beans.NewsBean;&#10;import com.lauren.simplenews.commons.Urls;&#10;import com.lauren.simplenews.news.model.NewsModel;&#10;import com.lauren.simplenews.news.model.NewsModelImpl;&#10;import com.lauren.simplenews.news.view.NewsView;&#10;import com.lauren.simplenews.news.widget.NewsFragment;&#10;import com.lauren.simplenews.utils.LogUtils;&#10;import java.util.List;&#10;/**&#10; * Description :&#10; * Author : lauren&#10; * Email  : lauren.liuling@gmail.com&#10; * Blog   : http://www.liuling123.com&#10; * Date   : 15/12/18&#10; */&#10;public class NewsPresenterImpl implements NewsPresenter, NewsModelImpl.OnLoadNewsListListener &#123;&#10;    private static final String TAG = &#34;NewsPresenterImpl&#34;;&#10;    private NewsView mNewsView;&#10;    private NewsModel mNewsModel;&#10;    public NewsPresenterImpl(NewsView newsView) &#123;&#10;        this.mNewsView = newsView;&#10;        this.mNewsModel = new NewsModelImpl();&#10;    &#125;&#10;    @Override&#10;    public void loadNews(final int type, final int pageIndex) &#123;&#10;        String url = getUrl(type, pageIndex);&#10;        LogUtils.d(TAG, url);&#10;        //&#21482;&#26377;&#31532;&#19968;&#39029;&#30340;&#25110;&#32773;&#21047;&#26032;&#30340;&#26102;&#20505;&#25165;&#26174;&#31034;&#21047;&#26032;&#36827;&#24230;&#26465;&#10;        if(pageIndex == 0) &#123;&#10;            mNewsView.showProgress();&#10;        &#125;&#10;        mNewsModel.loadNews(url, type, this);&#10;    &#125;&#10;    /**&#10;     * &#26681;&#25454;&#31867;&#21035;&#21644;&#39029;&#38754;&#32034;&#24341;&#21019;&#24314;url&#10;     * @param type&#10;     * @param pageIndex&#10;     * @return&#10;     */&#10;    private String getUrl(int type, int pageIndex) &#123;&#10;        StringBuffer sb = new StringBuffer();&#10;        switch (type) &#123;&#10;            case NewsFragment.NEWS_TYPE_TOP:&#10;                sb.append(Urls.TOP_URL).append(Urls.TOP_ID);&#10;                break;&#10;            case NewsFragment.NEWS_TYPE_NBA:&#10;                sb.append(Urls.COMMON_URL).append(Urls.NBA_ID);&#10;                break;&#10;            case NewsFragment.NEWS_TYPE_CARS:&#10;                sb.append(Urls.COMMON_URL).append(Urls.CAR_ID);&#10;                break;&#10;            case NewsFragment.NEWS_TYPE_JOKES:&#10;                sb.append(Urls.COMMON_URL).append(Urls.JOKE_ID);&#10;                break;&#10;            default:&#10;                sb.append(Urls.TOP_URL).append(Urls.TOP_ID);&#10;                break;&#10;        &#125;&#10;        sb.append(&#34;/&#34;).append(pageIndex).append(Urls.END_URL);&#10;        return sb.toString();&#10;    &#125;&#10;    @Override&#10;    public void onSuccess(List&#60;NewsBean&#62; list) &#123;&#10;        mNewsView.hideProgress();&#10;        mNewsView.addNews(list);&#10;    &#125;&#10;    @Override&#10;    public void onFailure(String msg, Exception e) &#123;&#10;        mNewsView.hideProgress();&#10;        mNewsView.showLoadFailMsg();&#10;    &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>当用户切换到NewsListFragment界面之后，界面需要展示新闻列表信息给用户。首先NewsListFragment会调用NewsPresenter的loadNews方法，NewsPresenter 的loadNews方法中又会调用NewsModel中的loadNews方法。NewsModel中的loadNews方法中就是加载数据的核心，通过Okhttp请求服务器接口获取数据，无论数据获取成功与否，都会通过OnLoadNewsListener接口回调给NewsPresenter 。如果获取成功，NewsPresenter 会调用NewsView的addNews方法将获取的新闻列表信息展示到RecyclerView。如果获取失败，则调用NewsView的showLoadFialMsg方法向用户提示失败信息。</p>
<p>以上就是新闻列表请求的整个过程。</p>
<p>源码地址：<a href="https://github.com/liuling07/SimpleNews" target="_blank" rel="external">https://github.com/liuling07/SimpleNews</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuling123.com/2015/12/mvp-pattern-android.html" data-id="ciiygt5ae004yy5d05w7ucc03" class="article-share-link">分享到</a>
      
        <a href="http://liuling123.com/2015/12/mvp-pattern-android.html#ds-thread" class="article-comment-link">评论</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVP/">MVP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/设计模式/">设计模式</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/12/Say-bye-to-my-2015.html" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          Say bye to my 2015
        
      </div>
    </a>
  
  
    <a href="/2015/12/intent-resolving-in-android-m.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">【译文】Android M中Intent的解析</div>
    </a>
  
</nav>


  
</article>


  <section id="comments">
    <!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="post-mvp-pattern-android" data-title="MVP模式在Android项目中的使用" data-url="http://liuling123.com/2015/12/mvp-pattern-android.html"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"liuling123"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->
  </section>

</section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新博文</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/人生感悟/">人生感悟</a></p>
              <p class="item-title"><a href="/2015/12/Say-bye-to-my-2015.html" class="title">Say bye to my 2015</a></p>
              <p class="item-date"><time datetime="2015-12-25T09:25:10.000Z" itemprop="datePublished">2015-12-25</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Android/">Android</a></p>
              <p class="item-title"><a href="/2015/12/mvp-pattern-android.html" class="title">MVP模式在Android项目中的使用</a></p>
              <p class="item-date"><time datetime="2015-12-23T14:16:04.000Z" itemprop="datePublished">2015-12-23</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Android/">Android</a></p>
              <p class="item-title"><a href="/2015/12/intent-resolving-in-android-m.html" class="title">【译文】Android M中Intent的解析</a></p>
              <p class="item-date"><time datetime="2015-12-04T06:52:06.000Z" itemprop="datePublished">2015-12-04</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Android/">Android</a></p>
              <p class="item-title"><a href="/2015/12/performance-listviews.html" class="title">【译文】高性能ListViews</a></p>
              <p class="item-date"><time datetime="2015-12-02T10:22:14.000Z" itemprop="datePublished">2015-12-02</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/Android/">Android</a></p>
              <p class="item-title"><a href="/2015/11/android-multi-photo-picker.html" class="title">Android带多选功能的PhotoPicker</a></p>
              <p class="item-date"><time datetime="2015-11-21T07:46:03.000Z" itemprop="datePublished">2015-11-21</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">博文分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Framework/">Framework</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hadoop/">Hadoop</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JNI-amp-NDK/">JNI&amp;NDK</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java基础/">Java基础</a><span class="category-list-count">35</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NoSQL/">NoSQL</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/人生感悟/">人生感悟</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他技术/">其他技术</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/后端/">后端</a><span class="category-list-count">29</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构和算法/">数据结构和算法</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><span class="category-list-count">7</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AsyncTask/" style="font-size: 11.54px;">AsyncTask</a> <a href="/tags/LruCache/" style="font-size: 10px;">LruCache</a> <a href="/tags/MVP/" style="font-size: 10px;">MVP</a> <a href="/tags/NoSQL/" style="font-size: 13.08px;">NoSQL</a> <a href="/tags/android/" style="font-size: 18.46px;">android</a> <a href="/tags/android-studio/" style="font-size: 10px;">android studio</a> <a href="/tags/c/" style="font-size: 10px;">c++</a> <a href="/tags/camera/" style="font-size: 10px;">camera</a> <a href="/tags/framework/" style="font-size: 10.77px;">framework</a> <a href="/tags/hadoop/" style="font-size: 14.62px;">hadoop</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/jni/" style="font-size: 13.08px;">jni</a> <a href="/tags/linux/" style="font-size: 16.15px;">linux</a> <a href="/tags/mysql/" style="font-size: 11.54px;">mysql</a> <a href="/tags/redis/" style="font-size: 13.08px;">redis</a> <a href="/tags/spring/" style="font-size: 10.77px;">spring</a> <a href="/tags/sqlite/" style="font-size: 10px;">sqlite</a> <a href="/tags/web后端/" style="font-size: 19.23px;">web后端</a> <a href="/tags/内存缓存/" style="font-size: 10px;">内存缓存</a> <a href="/tags/前端/" style="font-size: 13.85px;">前端</a> <a href="/tags/反射/" style="font-size: 10px;">反射</a> <a href="/tags/图片选择/" style="font-size: 10.77px;">图片选择</a> <a href="/tags/多线程/" style="font-size: 17.69px;">多线程</a> <a href="/tags/布局/" style="font-size: 12.31px;">布局</a> <a href="/tags/布局优化/" style="font-size: 10.77px;">布局优化</a> <a href="/tags/开源/" style="font-size: 10.77px;">开源</a> <a href="/tags/断点续传/" style="font-size: 11.54px;">断点续传</a> <a href="/tags/科学上网/" style="font-size: 10px;">科学上网</a> <a href="/tags/自定义控件/" style="font-size: 10px;">自定义控件</a> <a href="/tags/解决方案/" style="font-size: 16.92px;">解决方案</a> <a href="/tags/设计模式/" style="font-size: 15.38px;">设计模式</a> <a href="/tags/译文/" style="font-size: 10.77px;">译文</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">博文归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">七月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">五月 2013</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">二月 2013</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">一月 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">十二月 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">十一月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">八月 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">七月 2012</a><span class="archive-list-count">8</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a target="_blank" href="http://blog.daimajia.com">代码家</a>
          </li>
        
          <li>
            <a target="_blank" href="http://www.trinea.cn">Trinea</a>
          </li>
        
          <li>
            <a target="_blank" href="https://www.aswifter.com">APP开发者</a>
          </li>
        
          <li>
            <a target="_blank" href="http://blog.seoui.com">笑松小站</a>
          </li>
        
          <li>
            <a target="_blank" href="http://www.apkfuns.com">舞影凌风</a>
          </li>
        
          <li>
            <a target="_blank" href="http://www.ttfde.org">TTF的家园</a>
          </li>
        
          <li>
            <a target="_blank" href="http://rocko.xyz">Rocko&#39;s blog</a>
          </li>
        
          <li>
            <a target="_blank" href="http://www.93sec.cc">教程资源网</a>
          </li>
        
      </ul>
    </div>
  </div>


  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 - 2016 Lauren<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    

<script type="text/javascript">
  var duoshuoQuery = {short_name:"liuling123"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>





 <script src="//ajax.lug.ustc.edu.cn/ajax/libs/jquery/2.1.3/jquery.min.js"></script>




  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>